@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

@import 'vendor/ag-grid.scss';
@import 'mixins/nw-icon.scss';

@font-face {
  font-family: 'New World';
  src: url('^assets/fonts/IMFellDWPica-Regular.ttf') format('ttf');
  font-style: normal;
}

@font-face {
  font-family: 'New World';
  src: url('^assets/fonts/IMFellDWPica-Italic.ttf') format('ttf');
  font-style: italic;
}

html,
body {
  min-width: 1024px;
  font-weight: 500;
}
body {
  @apply bg-base-100 text-slate-50;
  width: 100%;
  height: 100vh;
  padding: 0;
  display: flex;
  flex-direction: column;
  background-image: url('^assets/mainbg.png');
  background-size: cover;
  background-attachment: fixed;
}

.fade {
  opacity: 0;
  transition: 0.2s linear opacity;
}
.show {
  opacity: 1;
}
.error {
  opacity: 1;
  img {
    display: none;
  }
}
img.error {
  opacity: 1;
  display: none;
}

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-corner {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background-color: rgba(155, 155, 155, 0.5);
  border-radius: 20px;
  border: transparent;
}

.multiline-cell {
  line-height: 1.2 !important;
  white-space: normal !important;
  word-break: initial !important;
}

picture.nw-icon {
  @include nwPictureIcon();
}

.text-rarity-0 {
  color: map-get($nw-rarity-color, '0');
}
.text-rarity-1 {
  color: map-get($nw-rarity-color, '1');
}
.text-rarity-2 {
  color: map-get($nw-rarity-color, '2');
}
.text-rarity-3 {
  color: map-get($nw-rarity-color, '3');
}
.text-rarity-4 {
  color: map-get($nw-rarity-color, '4');
}

.nwb-page {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-areas: 'content';
  column-gap: 1rem;
  row-gap: 1rem;

  &.has-menu {
    grid-template-columns: auto 1fr;
    grid-template-areas: 'menu content';
  }
  &.has-detail {
    grid-template-columns: 1fr auto;
    grid-template-areas: 'content detail';
  }
  &.has-menu.has-detail {
    grid-template-columns: auto 1fr auto;
    grid-template-areas: 'menu content detail';
  }

  .main-frame,
  .detail-frame,
  .menu-frame {
    position: relative;
  }
  .main-content,
  .detail-content,
  .menu-content {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: auto;
  }
}

.ag-header-cell-resize::after {
  top: 2px !important;
  height: calc(100% - 4px) !important;
  width: 1px !important;
}
.ag-icon-filter {
  color: hsl(var(--p) / var(--tw-text-opacity)) !important;
}

.masked-overflow {
  /* scroll bar width, for use in mask calculations */
  --scrollbar-width: 10px;

  /* mask fade distance, for use in mask calculations */
  --mask-height: 24px;

  /* If content exceeds height of container, overflow! */
  overflow-y: auto;

  /* Our height limit */
  height: 300px;

  /* Need to make sure container has bottom space,
otherwise content at the bottom is always faded out */
  padding-bottom: var(--mask-height);
  padding-top: var(--mask-height);

  /* Keep some space between content and scrollbar */
  padding-right: 20px;

  /* The CSS mask */

  /* The content mask is a linear gradient from top to bottom */
  --mask-image-content: linear-gradient(
    to bottom,
    transparent,
    black var(--mask-height),
    black calc(100% - var(--mask-height)),
    transparent
  );

  /* Here we scale the content gradient to the width of the container
minus the scrollbar width. The height is the full container height */
  --mask-size-content: calc(100% - var(--scrollbar-width)) 100%;

  /* The scrollbar mask is a black pixel */
  --mask-image-scrollbar: linear-gradient(black, black);

  /* The width of our black pixel is the width of the scrollbar.
The height is the full container height */
  --mask-size-scrollbar: var(--scrollbar-width) 100%;

  /* Apply the mask image and mask size variables */
  mask-image: var(--mask-image-content), var(--mask-image-scrollbar);
  mask-size: var(--mask-size-content), var(--mask-size-scrollbar);

  /* Position the content gradient in the top left, and the
scroll gradient in the top right */
  mask-position: 0 0, 100% 0;

  /* We don't repeat our mask images */
  mask-repeat: no-repeat, no-repeat;
}

input.appearance-none::-webkit-outer-spin-button,
input.appearance-none::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input.appearance-none[type=number] {
  -moz-appearance: textfield;
}
