<div class="absolute top-0 left-0 right-0 bottom-0 flex flex-col items-center justify-center z-50 pointer-events-none">
  <div class="p-3" *ngIf="!isSuported$()">
    <div class="alert shadow-lg">
      <div class="overflow-hidden w-full">
        <nwb-icon [icon]="iconError" class="w-4 h-4 text-error"></nwb-icon>
        <span>WebGL is not supported by this browser.</span>
      </div>
    </div>
  </div>

  <div class="p-3" *ngIf="hasError$()">
    <div class="alert shadow-lg">
      <div class="overflow-hidden w-full">
        <nwb-icon [icon]="iconError" class="w-4 h-4 text-error"></nwb-icon>
        <span>Failed to load model.</span>
      </div>
    </div>
  </div>
</div>

<div
  class="bg-base-200 absolute top-0 left-0 right-0 bottom-0 flex flex-col items-center justify-center z-50 pointer-events-none"
  *ngIf="isLoading$()"
  @fade
>
  <picture class="block aspect-square w-3/5 relative">
    <img
      class="absolute object-contain top-0 left-0 right-0 bottom-0 w-full h-full spin-cw"
      [nwImage]="'assets/loaders/crafting_rune_clockwise.png'"
    />
    <img
      class="absolute object-contain top-0 left-0 right-0 bottom-0 w-full h-full spin-ccw"
      [nwImage]="'assets/loaders/crafting_rune_counter_clockwise.png'"
    />
  </picture>
</div>

<div class="flex flex-col items-end gap-1 absolute top-2 right-2 z-40" *ngIf="isSuported$()">
  <div class="flex flex-row gap-1">
    <ng-container *ngIf="!isLoading$() && !hasError$()">
      <button class="btn btn-square btn-ghost btn-sm drop-shadow-md" (click)="capturePhoto()">
        <nwb-icon [icon]="iconCamera" class="w-4 h-4"></nwb-icon>
      </button>
      <button class="btn btn-square btn-ghost btn-sm drop-shadow-md" (click)="toggleFullscreen()">
        <nwb-icon [icon]="iconFullscreen" class="w-4 h-4"></nwb-icon>
      </button>
    </ng-container>
    <button class="btn btn-square btn-ghost btn-sm drop-shadow-md" (click)="closeDialog()" *ngIf="canClose$()">
      <nwb-icon [icon]="iconClose" class="w-4 h-4"></nwb-icon>
    </button>
  </div>
</div>

<div class="flex flex-col gap-1 absolute bottom-2 right-2 z-40" *ngIf="hasLoaded$()">
  <button
    *ngFor="let item of buttons$()"
    class="btn btn-ghost btn-sm"
    [class.text-primary]="item.active"
    style="text-shadow: 1px 1px 2px black"
    (click)="show(item.index)"
  >
    {{ item.label }}
  </button>
</div>

<div #viewerHost class="w-full h-full z-0"></div>
