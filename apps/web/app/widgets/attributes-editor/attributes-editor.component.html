<div class="grid gap-1">
  <span class="font-bold">Points</span>
  <span class="font-bold text-center">{{ pointsAvailable$ | async }}</span>
  <span></span>
  <ng-container *ngFor="let stat of stats$ | async; trackBy: trackById" class="flex flex-row">
    <label class="inline-flex items-center justify-center font-bold uppercase">{{ stat.name | nwText }}</label>
    <div class="flex flex-row gap-1 indicator">
      <span class="indicator-item text-2xs pl-14 whitespace-nowrap" *ngIf="stat.assigned">
        <span class="text-[#35B6EB] text-opacity-75">{{ stat.base }}</span>
        +
        <span class="text-[#F1CF72] text-opacity-75">{{ stat.assigned }}</span>
      </span>
      <input
        type="number"
        class="input input-bordered input-sm w-16 text-right"
        [min]="stat.inputMin"
        [max]="stat.inputMax"
        [ngModel]="stat.total"
        (ngModelChange)="attributeInput(stat, $event)"
        (focus)="attributeFocus($event)"
        (blur)="attributeBlur(stat, $event)"
        (wheel)="($event)"
      />
    </div>
    <div class="flex flex-row justify-between items-center relative">
      <progress
        class="absolute left-0 progress progress-c1 w-full"
        [value]="stat.total"
        [max]="stat.sliderEnd"
      ></progress>
      <progress
        class="absolute left-0 progress progress-c2 w-full"
        [value]="stat.base"
        [max]="stat.sliderEnd"
      ></progress>
      <span class="relative w-0 h-0"></span>
      <ng-container *ngFor="let step of [50, 100, 150, 200, 250, 300]; trackBy: trackById">
        <span
          class="relative badge cursor-pointer"
          [class.c1]="stat.base < step && stat.total >= step"
          [class.c2]="stat.base >= step"
          [tooltip]="tip"
          (click)="attributeToggle(stat, step)"
        >
        </span>
        <ng-template #tip>
          <div *ngIf="getAbilities(stat, step) | async; let list" class="py-2 px-3">
            <div *ngFor="let item of list" [class.text-success]="stat.total >= step">
              <span [innerHTML]="item.Description | nwText | nwTextBreak"></span>
            </div>
          </div>
        </ng-template>
      </ng-container>
    </div>
  </ng-container>
</div>
