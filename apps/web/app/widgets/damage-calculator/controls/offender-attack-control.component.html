<label class="label">
  <span class="label-text"> Attack </span>
</label>
<span class="join" [cdkMenuTriggerFor]="attackOptions().length ? tplAttacks : null">
  <button class="join-item btn btn-sm w-full" [disabled]="!attackOptions().length">
    @if (!damageRow.value) {
      <span class="italic"> -- none -- </span>
    } @else {
      {{ damageRow.value | nwHumanize }}
    }
  </button>
  <ng-template #tplAttacks>
    <ul class="menu menu-compact bg-base-200 border border-base-100 rounded-md w-80" cdkMenu>
      @for (item of attackOptions(); track $index) {
        <li class="text-shadow-sm shadow-black" cdkMenuItem>
          <a (click)="damageRow.value = item.value">
            <!-- <img [nwImage]="item.icon" class="w-5 h-5 ml-2" /> -->
            <span>{{ item.label | nwText }}</span>
          </a>
        </li>
      }
    </ul>
  </ng-template>
</span>

<span class="join mt-1">
  <button class="join-item btn btn-sm justify-start text-left w-40">Damage Coef</button>
  <nwb-precision-input
    class="join-item input input-sm input-bordered text-right w-full"
    [min]="0"
    [step]="0.1"
    [stepShift]="10"
    [stepCtrl]="1"
    [stepAlt]="0.01"
    [scale]="100"
    [unit]="'%'"
    [(ngModel)]="damageCoef.value"
  />
  <button slot="end" class="join-item btn btn-sm btn-square" [tooltip]="tipCoef" [preventClick]="true">
    <nwb-icon [icon]="iconInfo" class="w-4 h-4" />
  </button>
  <ng-template #tipCoef>
    <div class="p-2 prose prose-sm leading-tight w-80">
      <h4>Damage Coefficient</h4>
      <p>The strength of the attack</p>
    </div>
  </ng-template>
</span>

<span class="join mt-1">
  <button class="join-item btn btn-sm justify-start text-left w-40">Damage Add</button>
  <input
    type="number"
    class="join-item appearance-none input input-sm input-bordered text-right w-full"
    [step]="1"
    [(ngModel)]="damageAdd.value"
    (wheel)="($event)"
  />
  <button slot="end" class="join-item btn btn-sm btn-square" [tooltip]="tipAdd" [preventClick]="true">
    <nwb-icon [icon]="iconInfo" class="w-4 h-4" />
  </button>
  <ng-template #tipAdd>
    <div class="p-2 prose prose-sm leading-tight w-80">
      <h4>Additional damage</h4>
      <p>Damage that is simply added.</p>
    </div>
  </ng-template>
</span>
