<ng-container *ngIf="vm$ | async; let vm">
  <div class="backdrop rarity-{{vm.rarity}}"></div>
  <a [nwInfoLink]="enableInfoLink ? vm.entityId : null" [nwInfoResource]="'item'" class="relative">
    <span class="italic">{{ tier$ | async }}</span>
    <picture [nwIcon]="vm.entity" [nwRarity]="vm.rarity"></picture>
    <ng-content select=".icon-overlay"></ng-content>
  </a>
  <aside class="flex-1 flex flex-col justify-between">
    <div class="flex flex-row justify-between">
      <h3 class="font-bold text-rarity-{{vm.rarity}} leading-4 mt-1" [nwText]="vm.name"></h3>
      <div class="flex flex-col items-end">
        <nwb-item-marker [itemId]="vm.entityId" *ngIf="showMarker$ | async" class="text-right"></nwb-item-marker>
        <nwb-gs-tracker [itemId]="vm.entityId" *ngIf="showGsMarker$ | async" class="text-right mt-1 tooltip-left" [emptyTip]="'Track Gear Score'"></nwb-gs-tracker>
      </div>
    </div>
    <div>
      <div *ngIf="vm.sourceLabel" class="text-xs" [class.text-error]="vm.isDeprecated">{{ vm.sourceLabel }}</div>
      <div class="flex flex-row justify-between gap-2">
        <span [nwText]="vm.typeName"></span>
        <span class="font-bold text-rarity-{{vm.rarity}}" [nwText]="vm.rarityName"></span>
      </div>
    </div>
  </aside>
</ng-container>
