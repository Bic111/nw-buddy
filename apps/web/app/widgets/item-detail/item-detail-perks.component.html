<div
  class="
    flex flex-row
    gap-2
    text-sky-600
    relative
    rounded-md
    outline outline-2 outline-offset-0 outline-transparent
    transition-all
    cursor-pointer
  "
  [class.hover:outline-primary-focus]="perkEditable && item.editable"
  [class.hover:outline-offset-4]="perkEditable && item.editable"
  [class.hover:cursor-pointer]="perkEditable && item.editable"
  *ngFor="let item of perks$ | async; let isLast = last; trackBy: trackByIndex"
  (click)="editPerkClicked(item)"
>
  <ng-container *ngIf="item.perk">
    <a class="flex-none">
      <img [nwImage]="item.icon" class="w-8" />
    </a>
    <div class="pt-1">
      <div *ngFor="let row of item.text; trackBy: trackByIndex">
        <b> {{ row.label | nwText }} </b>
        <span> {{ row.description | nwText: { itemId: item.perk.PerkID, gearScore: gearScore$ | async } }} </span>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="!item.perk">
    <picture class="flex-none w-8 h-8 relative flex items-center justify-center">
      <img
        [nwImage]="'assets/icons/crafting_perkbackground.png'"
        class="absolute top-0 left-0 right-0 bottom-0 block object-cover scale-110"
      />
      <span class="relative text-2xs text-white">{{ item.bucket?.PerkChance | percent }}</span>
    </picture>
    <div class="pt-1">Random Perk</div>
  </ng-container>
</div>
