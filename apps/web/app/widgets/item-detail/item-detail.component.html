<div *ngIf="entity | async; let entity" class="flex flex-col">
  <nwb-item-detail-header
    [enableNwdbLink]="enableNwdbLink"
    [enableTracker]="enableTracker"
    [enableMarker]="enableMarker"
  ></nwb-item-detail-header>
  <ng-container *ngIf="description | async; let text">
    <ng-container *ngTemplateOutlet="hr"></ng-container>
    <p class="px-4 py-4 text-primary italic" [nwText]="text" [itemId]="entityId | async"></p>
  </ng-container>
  <ng-container *ngIf="perks | async; let info">
    <ng-container *ngTemplateOutlet="hr"></ng-container>
    <nwb-item-detail-perks class="px-4 py-4" [perks]="info.perks" [buckets]="info.buckets"></nwb-item-detail-perks>
  </ng-container>
  <ng-container *ngIf="enableInfo">
    <ng-container *ngTemplateOutlet="hr"></ng-container>
    <nwb-item-detail-info  class="px-4 py-4" [item]="entity"></nwb-item-detail-info>
  </ng-container>
  <!-- <ng-container *ngIf="salvageEvent | async; let item">
    <ng-container *ngTemplateOutlet="hr"></ng-container>
    <nwb-item-detail-salvage  class="px-4 py-4" [event]="item"></nwb-item-detail-salvage>
  </ng-container> -->
  <ng-container *ngIf="recipe | async; let recipe">
    <ng-container *ngTemplateOutlet="hr"></ng-container>
    <nwb-crafting-calculator class="p-2" [recipe]="recipe"></nwb-crafting-calculator>
  </ng-container>
</div>

<div class="flex flex-row items-center justify-center" *ngIf="!(entity | async)">
  <button class="btn btn-ghost loading mx-auto"></button>
</div>

<ng-template #hr>
  <div class="hr bg-gradient-to-r from-transparent via-zinc-600 to-transparent h-[1px]"></div>
</ng-template>
