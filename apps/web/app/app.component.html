<nwb-title-bar *ngIf="isElectron"></nwb-title-bar>

<div class="layout-pad-x layout-pad-t" [@headerAnimation]="true">
  <div class="navbar bg-base-100 z-50 font-bold rounded-md shadow-xl">
    <div class="navbar-start w-auto flex-none">
      <button class="btn btn-square btn-ghost text-primary lg:hidden" [nwbScreenDrawerToggle]="'toggle'">
        <svg fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      <a routerLink="/" class="hidden lg:inline-block text-lg font-bold">
        <img [nwImage]="'assets/icons/favicon.png'" class="w-12" />
      </a>
    </div>
    <div class="navbar-center flex-1 items-center justify-center lg:justify-start">
      <a routerLink="/" class=" lg:hidden text-lg font-bold">
        <img [nwImage]="'assets/icons/favicon.png'" class="w-12" />
      </a>
      <h1 class="text-xl hidden md:block">
        New World Buddy
      </h1>
    </div>
    <div class="navbar-end w-auto flex-none">
      <nwb-update-alert-button class="mr-2"></nwb-update-alert-button>
      <button class="btn btn-square btn-ghost" [cdkMenuTriggerFor]="langMenu">
        {{ lang }}
      </button>
    </div>
  </div>
</div>
<nwb-screen-drawer>
  <nwb-screen-drawer-side class="rounded-md layout-pad-l layout-pad-b" [nwbScreenDrawerToggle]="'close'" [@listAnimation]="mainMenu.length">
    <ng-container *ngFor="let group of mainMenu">
      <ul class="menu menu-compact w-60 bg-base-300 rounded-md flex-none">
        <li class="menu-title uppercase mt-2" *ngIf="group.category">
          <span>{{ group.category }}</span>
        </li>
        <ng-container *ngFor="let item of group.items">
          <li *ngIf="item.divider"></li>
          <li routerLinkActive="bordered">
            <a #link  [routerLink]="item.path"> {{ item.label }} </a>
          </li>
        </ng-container>
      </ul>
    </ng-container>
  </nwb-screen-drawer-side>
  <nwb-screen-drawer-content class="layout-row layout-gap layout-pad-x layout-pad-b" *ngIf="langLoaded" [@enteranimation]>
    <router-outlet></router-outlet>
  </nwb-screen-drawer-content>
</nwb-screen-drawer>

<ng-template #langMenu>
  <ul class="menu menu-compact bg-base-100 rounded-md w-40 shadow-md" cdkMenu>
    <li *ngFor="let item of langOptions">
      <button (click)="language = item.value" cdkMenuItem>
        {{ item.label }}
      </button>
    </li>
  </ul>
</ng-template>
