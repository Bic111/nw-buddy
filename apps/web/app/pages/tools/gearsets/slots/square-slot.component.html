<ng-container *ngIf="vm$ | async; let vm">
  <nwb-item-header [rarity]="0" class="relative font-nimbus gap-2" *ngIf="!vm.itemId">
    <nwb-item-icon [nwbItemIcon]="vm.slot?.icon" [solid]="false" [rarity]="0" class="z-10 w-12 h-12"></nwb-item-icon>
    <button
      *ngIf="!disabled"
      class="
        btn btn-square btn-ghost
        absolute
        top-0
        right-0
        z-10
        screenshot-hidden
        w-full
        h-full
        items-center
        justify-center
      "
      (click)="pickItemClicked()"
    >
      <nwb-icon [icon]="iconPlus" class="w-4 h-4 mt-2"></nwb-icon>
    </button>
  </nwb-item-header>

  <nwb-item-detail [entityId]="vm.itemId" class="p-1" class="flex flex-row gap-1" *ngIf="vm.itemId">
    <nwb-item-header [rarity]="vm.rarity" class="relative font-nimbus gap-2">
      <nwb-item-icon [nwbItemIcon]="vm.item" [solid]="true" class="z-10 w-12 h-12"></nwb-item-icon>
      <button
        *ngIf="!disabled && !!menuTemplate"
        class="
          btn btn-square btn-ghost
          absolute
          top-0
          right-0
          z-10
          screenshot-hidden
          w-full
          h-full
          items-start
          justify-end
        "
        [cdkMenuTriggerFor]="menuTemplate"
      >
        <nwb-icon [icon]="iconMenu" class="w-4 h-4 mt-2"></nwb-icon>
      </button>
    </nwb-item-header>
  </nwb-item-detail>
</ng-container>
