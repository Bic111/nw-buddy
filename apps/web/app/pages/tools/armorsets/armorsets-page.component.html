<ion-header class="bg-base-300">
  <div class="flex flex-col-reverse md:flex-row">
    <ul class="menu menu-horizontal w-full flex-nowrap flex-1 overflow-x-auto scrollbar-hide">
      <li>
        <button
          [nwbGridCateogryMenu]="grid.categories$ | async"
          [category]="category$ | async"
          [defaultRoute]="defaultRoute"
          [defaultTitle]="title"
          [routePrefix]="'..'"
          [rowCounter]="grid.rowCount$ | async"
          class="btn btn-ghost normal-case text-left"
        ></button>
      </li>
      <span class="flex-1"></span>
      <li>
        <nwb-screenshot-button></nwb-screenshot-button>
      </li>
      <li>
        <button [nwbGridPanelButton]="grid.ready$ | async" class="btn btn-square btn-ghost"></button>
      </li>
    </ul>

    <div class="flex-none p-2 w-full md:max-w-[256px]">
      <nwb-quicksearch-input
        [nwbGridQuickfilter]="grid.ready$ | async"
        [placeholder]="'Quickfilter'"
      ></nwb-quicksearch-input>
    </div>
  </div>
</ion-header>
<div class="flex-1 flex flex-row overflow-hidden">
  <nwb-data-grid
    [category]="category$ | async"
    [persistKey]="persistKey"
    [filterParam]="filterParam"
    [selectionParam]="selectionParam"
    #grid
  ></nwb-data-grid>

  <div class="flex-none layout-content xl:max-w-[350px] 4xl:max-w-[30%]" *ngIf="grid.selection$ | async; let items">
    {{ grid.selection$ | async | json }}
    <div class="grid grid-cols-fill-sm layout-gap p-3" nwbScreenshotFrame="Armor-Set">
      <nwb-item-card
        *ngFor="let item of items; trackBy: trackByIndex"
        [entityId]="item"
        [disableInfo]="true"
        [disableDescription]="true"
        [enableTracker]="true"
        [enableInfoLink]="true"
        [enableLink]="true"
      >
      </nwb-item-card>
    </div>
  </div>

  <!-- <router-outlet></router-outlet> -->
</div>
