<div class="layout-content p-3 pb-20">
  <div *ngFor="let section of data$ | async">
    <h3 class="text-xl uppercase relative font-caslon text-nw-description mt-4 mb-2 px-2">
      {{ section.category | nwHumanize }} ({{ section.items.length }})
    </h3>
    <div class="grid gap-2">
      <a
        *ngFor="let item of section.items; trackBy: trackByIndex"
        [routerLink]="item.id"
        [routerLinkActive]="'border-primary'"
        class="bg-base-300 rounded-md p-2 border border-base-100 hover:border-primary relative"
      >
        <picture class="block w-full aspect-square relative">
          <img class="w-full h-full object-cover" [nwImage]="item.appearance?.IconPath" />
          <div class="absolute bottom-1 right-1 flex flex-row gap-1">
            <span class="badge badge-primary badge-sm" *ngIf="item.isStore || item.isSkin">Skin</span>
            <span
              class="badge badge-sm"
              [class.badge-secondary]="item.items.length > 0"
              [class.badge-error]="!item.items.length"
              *ngIf="!item.isUnique"
              >{{ item.items.length }}</span
            >
          </div>
        </picture>
        <!-- <div class="flex flex-row gap-1 mt-1">
          <ng-container *ngFor="let slot of item.dyeSlots">
            <span class="w-3 h-3 rounded-sm" [style.background-color]="slot.color" [tooltip]="tplChannelTip">
              <ng-template #tplChannelTip>
                <dl class="grid grid-cols-2 gap-1">
                  <dt>Channel </dt>
                  <dd>{{ slot.channel }}</dd>
                  <dt>Enabled </dt>
                  <dd>{{ slot.dyeEnabled }}</dd>
                  <dt>Mask </dt>
                  <dd>{{ slot.mask }}</dd>
                  <dt>Dye </dt>
                  <dd>{{ slot.dye }}</dd>
                  <dt>Override </dt>
                  <dd>{{ slot.dyeOverride }}</dd>
                </dl>
              </ng-template>
            </span>
          </ng-container>
        </div> -->
      </a>
    </div>
  </div>
</div>
<router-outlet></router-outlet>
