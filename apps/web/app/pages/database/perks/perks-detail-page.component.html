<nwb-detail-drawer class="hidden lg:block lg:w-96 2xl:w-[500px]">
  <div
    *nwbDetailDrawerContent
    class="layout-content p-2 bg-base-200"
    [nwbPerkDetail]="itemId | async"
    (nwbPerkChange)="onEntity($event)"
    #detail="perkDetail"
  >
    <div class="flex flex-col gap-2 bg-base-200" [nwbScreenshotFrame]="itemId | async">
      <nwb-perk-detail [perkId]="itemId | async" class="bg-black" />

      @for (abilityId of detail.refAbilities$ | async; track $index; let isFirst = $first) {
        @if (isFirst) {
          <h3 class="prose">Referenced Abilities:</h3>
        }
        <nwb-ability-detail [abilityId]="abilityId" class="bg-black"></nwb-ability-detail>
      }

      @for (effectId of detail.refEffects$ | async; track $index; let isFirst = $first) {
        @if (isFirst) {
          <h3 class="prose">Referenced Status Effects:</h3>
        }
        <nwb-status-effect-detail [effectId]="effectId" class="bg-black" />
      }
    </div>
  </div>
</nwb-detail-drawer>
