@for (entry of entries(); track $index) {
  <span>
    @for (cell of formatKey(entry); track $index) {
      <ng-container [ngTemplateOutlet]="cell.template || tplValue" [ngTemplateOutletContext]="{ $implicit: cell }" />
    }
  </span>
  <span>
    @for (cell of formatValue(entry); track $index) {
      <ng-container [ngTemplateOutlet]="cell.template || tplValue" [ngTemplateOutletContext]="{ $implicit: cell }" />
    }
  </span>
}

<ng-template [nwbGridValue] let-cell #tplValue>
  @if (cell.externLink) {
    <a
      [href]="cell.externLink"
      target="_blank"
      class="link link-primary"
      [tooltip]="cell.tooltip"
      [tooltipContext]="{ $implicit: cell }"
      [class.font-bold]="cell.bold"
      [class.italic]="cell.italic"
      [class.block]="cell.block"
    >
      {{ cell.value }}
    </a>
  } @else if (cell.routerLink) {
    <a
      [routerLink]="cell.routerLink"
      [queryParams]="cell.queryParams"
      class="link link-primary"
      [tooltip]="cell.tooltip"
      [tooltipContext]="{ $implicit: cell }"
      [class.font-bold]="cell.bold"
      [class.italic]="cell.italic"
      [class.block]="cell.block"
    >
      {{ cell.value }}
    </a>
  } @else {
    <span
      [class.text-primary]="cell.primary"
      [class.text-secondary]="cell.secondary"
      [class.text-info]="cell.info"
      [class.text-accent]="cell.accent"
      [tooltip]="cell.tooltip"
      [tooltipContext]="{ $implicit: cell }"
      [class.font-bold]="cell.bold"
      [class.italic]="cell.italic"
      [class.block]="cell.block"
    >
      {{ cell.value }}
    </span>
  }
</ng-template>

<ng-content/>
